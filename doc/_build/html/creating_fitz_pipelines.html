<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Creating New Fitz Pipelines &mdash; fitz 0.0.1-dev documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.4/lumen/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.0.1-dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.4/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="fitz 0.0.1-dev documentation" href="index.html" />
    <link rel="prev" title="Tutorial" href="tutorial_nwlabs.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          fitz</a>
        <span class="navbar-text navbar-version pull-left"><b>0.0.1-dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="https://github.com/kastman/fitz">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="workflows.html">Workflow Inputs and Outputs</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_nwlabs.html">Tutorial</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Creating New Fitz Pipelines</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Creating New Fitz Pipelines</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="creating-new-fitz-pipelines">
<span id="creating-fitz-pipelines"></span><h1>Creating New Fitz Pipelines<a class="headerlink" href="#creating-new-fitz-pipelines" title="Permalink to this headline">Â¶</a></h1>
<p>Fitz allows for pipelines to be easily created and updated by handling some of
the more redundant boilerplate that arises. Here is an example of slotting in
an existing nipype pipeline within the Fitz ecosystem.</p>
<p>Let&#8217;s say we want to add a simple diffusion pipeline provided as part of
nipype and hook it up with our experiment files.</p>
<p>Fitz pipelines are separate git repositories that can be shared and cloned.</p>
<p>The requirements for a pipeline are:</p>
<ol class="arabic simple">
<li>They must contain a workflows folder containing a separate python file for
each main workflow. For example, in standard fMRI workflows preprocessing
and modelling are good &#8220;chunks&#8221; of processing.</li>
<li>Each .py file should define a <strong>workflow</strong> method that takes the following
options and returns a nipype workflow to execute:
<em>def workflow(project,exp, args, subj_source)</em>:</li>
</ol>
<dl class="docutils">
<dt>project</dt>
<dd>A dictionary containing information about the directories in the project (e.g.
working_dir, analysis_dir, data_dir)</dd>
<dt>exp</dt>
<dd>A dictionary containing information from the experiment config file, (e.g.
options regarding slice-time correction, model contrasts)</dd>
<dt>args</dt>
<dd>An <code class="docutils literal"><span class="pre">argparse.Parser</span></code> instance containing command line options from
<code class="docutils literal"><span class="pre">fitz</span> <span class="pre">run</span></code>.</dd>
<dt>subj_source</dt>
<dd>A nipype node containing the IdentityInterface iterable for subjects, with
the subject label stored as the output {subject_id}.</dd>
</dl>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/creating_fitz_pipelines.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2015, Erik Kastman.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>